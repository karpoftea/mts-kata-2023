- [Title](#title)
- [Status](#status)
- [Context](#context)
- [Decision](#decision)
- [Alternatives](#alternatives)
  - [Использование одного веб-приложения для ОП и УП](#использование-одного-веб-приложения-для-оп-и-уп)

# Title
Разделение веб-приложений Панели Управления и Образовательной Платформы

# Status
Proposed

# Context
Система Поколение-М должна предоставлять инструмент для управления контентом (организационной структурой курсов, уроков, образовательных программ, категорий и тп) и отображать сформированный контент. Клиентами сформированного контента: уроков, курсов, активностей являются конечные пользователи: Гости, Студенты; управлением контентом занимаются Администраторв, СотрудникиПоддержки; Преподаватели оценивают работы и выявляют победителей конкурсов. Кол-во Гостей и Студентов (Обучающихся) значительно превышает Администраторов, СотрудниковПоддержки и Преподавателей. Предполагается что последний будут единицы, а первых - до десяти тысяч. Как следствие юзабилити (например, адаптивный интерфейс) для Обучающихся должно быть приоритетом. Интерфейс для Обсучающихся также должен быть отказоустойчивым, более обновляемым (с точки зрения визуальной составляющей и фичей) в то время как интерфейс Администраторов менее требователен к юзабилити, отказоустойчивости, а в крайних случаях управление и вовсе можно осуществлять программно - без UI.

# Decision
Мы будем реализовывать разные веб-приложения для Обучающихся и Администраторов. Это позволит двигаться в разработке интерфейсов независимо - с разной скоростью; использовать более технически емкие решения для Обучающихся, и экономить на разработке UI для Администраторов; Этим решением мы развязываем зависимоть одного интерфейса от другого.

Веб-приложение для Обучающихся будет называться Образовательная Платформа (ОП), а для Администраторов, Сотрудников Поддержки и Преподавателей - Панель Управления (ПУ). Оба приложения будут использовать API сервисов через API Gateway. 

Мы будем использовать один базовый фреймворк для обоих приложений (чтобы специалисты могли работать одинаково эффективо над любым приложением), но конкретный набор остальных зависимостей может варьироваться в зависимоти от нужд приложения. Так в ОП нужна адаптивная верстка, а для ПУ нет; в ОП нужен стиль МТС, а в УП не обязателен и тд.

Схема решения:
```plantuml
@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

LAYOUT_WITH_LEGEND()

title Диаграмма контейнеров системы Поколение-М

Person(guest, "Гость", "Потенциальный пользователь системы Поколение-М")
Person(student, "Студент", "Проходит обучение используя ресурсы и возможности системы")
Person(teacher, "Преподаватель", "Осуществляет преподавательскую деятельность с помощью системы")
Person(support, "СотрудникПоддержки", "Обеспечивает функционирование, техническую поддержку системы")
Person(admin, "Администратор", "Управляет пользователями, учебными материалами, мониторинг вовлеченности аудитории")

System_Boundary(sys, "Система Поколение-М") {
    Container(userwebapp, "Веб-Приложение Образовательной Платформы", "JavaScript, ReactJS, SPA", "Адаптивный веб-интерфейс образовательной платформы")
    Container(adminwebapp, "Веб-Приложение Панели Управления", "JavaScript, ReactJS, SPA", "Интерфейс управления контентом образовательной платформы")
    Container(gw, "API Gateway", "Java, SpringBoot/Cloud", "Аутентифицирует и хранит профиль пользователей; Марштутизирует запросы в нижележащие сервисы")
}

Rel(admin, adminwebapp, "Управляет правами, создает курсы/уроки в")
Rel(guest, userwebapp, "Просматривает доступные курсы, регистрируется в")
Rel(student, userwebapp, "Проходит обучение по курсам, сдает дом.работы, оценивает курс в")
Rel(teacher, adminwebapp, "Проверяет домашние работы или задания по конкурсам в")
Rel(support, adminwebapp, "Управляет учетными записями пользователей, назначением курсов, формированием образовательной программы в")

Rel(userwebapp, gw, "Использует API", "http/rest")
Rel(adminwebapp, gw, "Использует API", "http/rest")

@enduml
```

# Alternatives
В качестве альтернативы мы рассматривали: использование одного приложения.

## Использование одного веб-приложения для ОП и УП
Мы отказались от использования одного веб-приложения из-за:
1. разной скорости разработки интерфейсов ОП и УП
2. разных требований по масштабированию и отказоустойчивости
3. разной скорости эволюции фич

С другой стороны плюсами такого решения являются:
1. простота развертывания