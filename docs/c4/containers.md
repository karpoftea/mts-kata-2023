# Диаграмма контейнеров
```plantuml
@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

LAYOUT_WITH_LEGEND()

title Диаграмма контейнеров системы Поколение-М

Person(guest, "Гость", "Потенциальный пользователь системы Поколение-М")
Person(student, "Студент", "Проходит обучение используя ресурсы и возможности системы")
Person(teacher, "Преподаватель", "Осуществляет преподавательскую деятельность с помощью системы")
Person(support, "СотрудникПоддержки", "Обеспечивает функционирование, техническую поддержку системы")
Person(admin, "Администратор", "Управляет пользователями, учебными материалами, мониторинг вовлеченности аудитории")

System_Boundary(sys, "Система Поколение-М") {
    Container(userwebapp, "Веб-Приложение Образовательной Платформы", "JavaScript, ReactJS, SPA", "Адаптивный веб-интерфейс образовательной платформы")
    Container(adminwebapp, "Веб-Приложение Панели Управления", "JavaScript, ReactJS, SPA", "Интерфейс управления контентом образовательной платформы")
    Container(gw, "API Gateway", "Java, SpringBoot/Cloud", "Аутентифицирует и хранит профиль пользователей; Марштутизирует запросы в нижележащие сервисы")
    Container(cm, "CourceManager", "Java, SpringBoot", "Предоставляет API для создания/управления курсами/уроками и тп, а также записи на них")
    Container(mt, "MigrationTool", "Java, SpringBoot", "Консольное приложение мигрирующее данные пользователей их прогресс, и материалы (видео, текст) в систему")
    ContainerDb(dbms, "Реляционная СУБД", "PostgreSQL", "Хранит информацию о пользователях, курсах и тп")
    ContainerDb(s3, "Объектное хранилище", "S3-Compatible Object Storage", "Хранит файловый контент: видео, тексты, домашние задания и тп")
}

System_Ext(mtsa, "МТС Аналитика", "Система веб-, мобильной-, рекламной аналитики")
System_Ext(emailsys, "Система отправки эл.почты", "Коммунальный сервер МТС для рассылок электронной почты")
System_Ext(mtsid, "МТС ID", "Система идентификации пользователей")
System_Ext(legacy, "Старая система Поколение-М", "Информационный портал с неструктурированными материалами")

Rel(admin, adminwebapp, "Управляет правами, создает курсы/уроки в")
Rel(admin, mtsa, "Смотрит статистику поведения пользователей в")
Rel(admin, mt, "Запускает миграцию через")

Rel(guest, userwebapp, "Просматривает доступные курсы, регистрируется в")
Rel(student, userwebapp, "Проходит обучение по курсам, сдает дом.работы, оценивает курс в")
Rel(teacher, adminwebapp, "Проверяет домашние работы или задания по конкурсам в")
Rel(support, adminwebapp, "Управляет учетными записями пользователей, назначением курсов, формированием образовательной программы в")

Rel(userwebapp, gw, "Использует API", "http/rest")
Rel(userwebapp, mtsa, "Логирует события пользователей в", "http/rest")

Rel(adminwebapp, gw, "Использует API", "http/rest")

Rel(gw, cm, "Вызывает API", "http/rest")
Rel(gw, dbms, "Управляет данными пользователей в", "tcp/jdbc")
Rel(gw, emailsys, "Отправляет уведомление о регистрации в", "smtp")
Rel(gw, mtsid, "Аутентифицирует пользователей в")

Rel(cm, dbms, "Управляет данными курсов/уроков в", "tcp/jdbc")

Rel_U(mt, legacy, "Загружает информацию о пользователях/курсах/уроках", "tcp/jdbc+http")
Rel_U(mt, dbms, "Сохраняет информацию о пользователях/курсUх/уроках", "tcp/jdbc")
Rel_U(mt, s3, "Сохраняет видео, текстовый и др. файловый контент", "http")

@enduml
```